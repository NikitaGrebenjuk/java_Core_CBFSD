#stage 1
FROM tomcat:11.0.0-jdk17
#WORKDIR /app

#mounting some Volumes
VOLUME ./JRE_HOME /usr
VOLUME ./CATALINA_BASE usr/local/tomcat
VOLUME ./CLASSPATH /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar

#Ports
ENV CATALINA_CONNECTOR_PROXYNAME=localhost
ENV CATALINA_CONNECTOR_PROXYPORT=8888
ENV CATALINA_CONNECTOR_SECURE_PROXYNAME=localhost
ENV CATALINA_CONNECTOR_SECURE_PROXYPORT=8443
#stage 2

CMD ["catalina.sh", "run"]